(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dce74a9"],{1038:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"storgae"},[i("v-card",{attrs:{elevation:"12","min-height":"750"}},[i("v-card-title",[t._v("Storage")]),i("v-card-subtitle",[t._v("Almacenamiento de archivos subidos y resultados generados")]),i("v-card-text",[i("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"ma-2 white--text",attrs:{color:"blue-grey"}},"v-btn",a,!1),n),[t._v(" Upload File "),i("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-cloud-upload")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Upload Files")]),i("v-card-text",[i("v-form",{ref:"form",staticClass:"pa-4",model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[i("v-file-input",{attrs:{counter:"","show-size":"",accept:".fna, .fasta, .faa, .fa, .faa, .fastq, .fq , .gz","small-chips":"",label:"File input",rules:[t.rules.required]},model:{value:t.file.file,callback:function(e){t.$set(t.file,"file",e)},expression:"file.file"}}),i("v-select",{attrs:{items:t.items,"item-text":"text","item-value":"value",label:"Please select the file format *",rules:[t.rules.required]},model:{value:t.file.type,callback:function(e){t.$set(t.file,"type",e)},expression:"file.type"}}),i("v-textarea",{attrs:{"auto-grow":"",filled:"",color:"deep-purple",label:"Description",rows:"1"},model:{value:t.file.description,callback:function(e){t.$set(t.file,"description",e)},expression:"file.description"}}),i("small",[t._v("*indicates required field")]),[i("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.progress,expression:"progress"}],attrs:{value:t.value}})]],2)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue-grey",small:""},on:{click:t.clear}},[t._v("Close")]),i("v-btn",{staticClass:"white--text",attrs:{disabled:!t.form,color:"blue-grey",small:""},on:{click:t.sendFile}},[t._v(" Upload ")])],1)],1)],1),i("v-divider",{staticClass:"my-5"}),i("v-subheader",[t._v("Uploaded")]),i("v-row",t._l(t.uploadedFiles,(function(e){return i("v-col",{key:e._id,attrs:{cols:"12",xs:"12",sm:"6",md:"4",lg:"2"}},[i("v-card",{attrs:{elevation:"5","max-width":"400"}},[i("v-card-title",[i("span",{staticClass:"title"},[t._v(t._s(e.filename))])]),i("v-card-subtitle",[i("v-chip",{attrs:{label:"",small:""}},[t._v(t._s(e.type))])],1),i("v-card-text",[t._v(" Our blouses are available in 8 colors. You can custom order a built-in arch support for any of the models. ")]),i("v-card-actions",[i("v-btn",{attrs:{color:"red lighten-1",dark:"","x-small":"",elevation:"3"},on:{click:function(i){return t.deleteFile(e._id)}}},[t._v("Delete")]),i("v-btn",{attrs:{color:"green lighten-1",dark:"","x-small":"",elevation:"3"},on:{click:function(i){return t.download(e._id,e.filename)}}},[t._v("Download")])],1)],1)],1)})),1),i("v-subheader",[t._v("Results")]),i("v-row",t._l(t.resultFiles,(function(e){return i("v-col",{key:e._id,attrs:{cols:"12",xs:"12",sm:"6",md:"4",lg:"2"}},[i("v-card",{attrs:{elevation:"5","max-width":"450"}},[i("v-card-title",[i("span",{staticClass:"title"},[t._v(t._s(e.filename))])]),i("v-card-subtitle",[i("v-chip",{attrs:{label:"",small:""}},[t._v(t._s(e.type))])],1),i("v-card-text",[t._v(" "+t._s(e.description)+" ")]),i("v-card-actions",[i("v-btn",{attrs:{color:"red lighten-1",dark:"","x-small":"",elevation:"3"},on:{click:function(i){return t.deleteFile(e._id)}}},[t._v("Delete")]),i("v-btn",{attrs:{color:"green lighten-1",dark:"","x-small":"",elevation:"3"},on:{click:function(i){return t.download(e._id,e.filename)}}},[t._v("Download")])],1)],1)],1)})),1)],1)],1)],1)},a=[],s=i("1da1"),o=i("5530"),r=(i("96cf"),i("a4d3"),i("e01a"),i("2b3d"),i("d3b7"),i("3ca3"),i("ddb0"),i("2f62")),l={name:"Storage",data:function(){return{form:!1,dialog:!1,progress:!1,value:0,items:[{value:"fastq",text:"Sequencing read data (fastq, fq)"},{value:"fasta",text:"A sequence record (fasta, fna, fnn, faa, fs)"},{value:"other",text:"Other file format"}],file:{file:null,type:"",description:""},rules:{required:function(t){return!!t||"This field is required"}}}},computed:Object(o["a"])(Object(o["a"])({},Object(r["d"])(["files"])),Object(r["c"])(["uploadedFiles","resultFiles"])),mounted:function(){},created:function(){this.loadStorage(this.$store.state.user._id)},methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["loadStorage"])),{},{sendFile:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new FormData,i.append("file",t.file.file),i.append("user",t.$store.state.user._id),i.append("type",t.file.type),i.append("description",t.file.description),t.progress=!0,e.next=8,t.axios.post("/storage/upload",i,{onUploadProgress:function(e){var i=Math.round(e.loaded/e.total*100);t.value=i}});case 8:e.sent,100==t.value&&t.loadStorage(t.$store.state.user._id);case 10:case"end":return e.stop()}}),e)})))()},deleteFile:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(i.prev=0,i.t0=confirm("Estás segura de que quieres eliminar este archivo?"),!i.t0){i.next=5;break}return i.next=5,e.axios.delete("/storage/delete/".concat(t));case 5:e.loadStorage(e.$store.state.user._id),i.next=11;break;case 8:i.prev=8,i.t1=i["catch"](0),console.log(i.t1);case 11:case"end":return i.stop()}}),i,null,[[0,8]])})))()},download:function(t,e){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.axios.get("/storage/download/".concat(t),{responseType:"blob"});case 3:a=n.sent,s=window.URL.createObjectURL(new Blob([a.data])),o=document.createElement("a"),o.href=s,o.setAttribute("download","".concat(e)),document.body.appendChild(o),o.click(),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},clear:function(){this.dialog=!1,this.file.file=null,this.file.type="",this.file.description=""}})},c=l,u=i("2877"),d=i("6544"),h=i.n(d),f=i("8336"),v=i("b0af"),p=i("99d9"),m=i("cc20"),g=i("62ad"),b=i("2909"),y=i("ade3"),w=(i("a9e3"),i("498a"),i("caad"),i("2532"),i("7db0"),i("368e"),i("480e")),x=i("4ad4"),k=i("b848"),S=i("75eb"),O=i("e707"),_=i("e4d3"),C=i("21be"),$=i("f2e7"),j=i("a293"),V=i("58df"),A=i("d9bd"),I=i("80d2"),z=Object(V["a"])(x["a"],k["a"],S["a"],O["a"],_["a"],C["a"],$["a"]),F=z.extend({name:"v-dialog",directives:{ClickOutside:j["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(y["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(y["a"])(t,"v-dialog--active",this.isActive),Object(y["a"])(t,"v-dialog--persistent",this.persistent),Object(y["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(y["a"])(t,"v-dialog--scrollable",this.scrollable),Object(y["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(A["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):O["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.previousActiveElement=document.activeElement,t.$refs.content.focus(),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===I["s"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var i=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=Object(b["a"])(i).find((function(t){return!t.hasAttribute("disabled")}));n&&n.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(w["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(o["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(o["a"])(Object(o["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(I["f"])(this.maxWidth),width:"auto"===this.width?void 0:Object(I["f"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}}),T=i("ce7e"),B=i("53ca"),D=(i("13d5"),i("d81d"),i("b0c0"),i("99af"),i("a434"),i("159b"),i("fb6a"),i("5803"),i("2677")),E=i("d9f7"),q=D["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"===typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(I["y"])(t).every((function(t){return null!=t&&"object"===Object(B["a"])(t)}))}}},computed:{classes:function(){return Object(o["a"])(Object(o["a"])({},D["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var i=e.size,n=void 0===i?0:i;return t+n}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(I["q"])(e,1024===this.base))},internalArrayValue:function(){return Object(I["y"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var t=this;return this.isDirty||!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(e){var i=e.name,n=void 0===i?"":i,a=e.size,s=void 0===a?0:a,o=t.truncateText(n);return t.showSize?"".concat(o," (").concat(Object(I["q"])(s,1024===t.base),")"):o})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(A["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.isMultiple?t:t?[t]:[];Object(I["h"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,i){return t.$createElement(m["a"],{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(i,1),t.internalValue=e}}},[e])})):[]},genControl:function(){var t=D["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(E["b"])(t.data.style,{display:"none"})),t},genInput:function(){var t=D["a"].options.methods.genInput.call(this);return delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(i,n){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[n],file:i,index:n}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=D["a"].options.methods.genTextFieldSlot.call(this);return e.data.on=Object(o["a"])(Object(o["a"])({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=Object(b["a"])(t.target.files||[]);this.internalValue=this.isMultiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"…").concat(t.slice(t.length-e))}}}),R=i("4bd4"),N=i("132d"),L=i("8e36"),M=i("0fd9"),H=i("b974"),P=i("2fa4"),G=i("e0c7"),U=(i("1681"),i("8654")),Z=Object(V["a"])(U["a"]),K=Z.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(o["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},U["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"}},genInput:function(){var t=U["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){U["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),W=Object(u["a"])(c,n,a,!1,null,null,null);e["default"]=W.exports;h()(W,{VBtn:f["a"],VCard:v["a"],VCardActions:p["a"],VCardSubtitle:p["b"],VCardText:p["c"],VCardTitle:p["d"],VChip:m["a"],VCol:g["a"],VDialog:F,VDivider:T["a"],VFileInput:q,VForm:R["a"],VIcon:N["a"],VProgressLinear:L["a"],VRow:M["a"],VSelect:H["a"],VSpacer:P["a"],VSubheader:G["a"],VTextarea:K})},1681:function(t,e,i){},2677:function(t,e,i){"use strict";var n=i("8654");e["a"]=n["a"]},"368e":function(t,e,i){},5803:function(t,e,i){}}]);
//# sourceMappingURL=chunk-0dce74a9.0f5b96ca.js.map